<div id="container" class="card">
  <h2>{{ idContacto() ? 'Editar contacto' : 'Nuevo contacto' }}</h2>

  <form (ngSubmit)="createContact(newContactForm)" #newContactForm="ngForm">
    <div>
      <label for="first-name">Nombre*</label>
      <input id="first-name" name="firstName" type="text" ngModel required minlength="2" maxlength="20" #firstName="ngModel">
      @if (firstName.dirty && firstName.invalid) {
        <p class="error">El nombre es obligatorio y no puede ser una sola letra</p>
      }
    </div>

    <div>
      <label for="last-name">Apellido</label>
      <input id="last-name" name="lastName" type="text" ngModel maxlength="20">
    </div>

    <div>
      <label for="phone">Teléfono*</label>
      <input id="phone" name="number" type="text" ngModel required minlength="3" maxlength="30">
    </div>

    <div>
      <label for="email">Email</label>
      <input id="email" name="email" type="email" ngModel maxlength="40">
    </div>

    <div>
      <label for="favourite">Favorito</label>
      <input id="favourite" name="isFavourite" type="checkbox" ngModel>
    </div>

    <div>
      <label for="address">Dirección</label>
      <input id="address" name="address" type="text" ngModel minlength="5">
    </div>

    <div>
      <label for="company">Compañía</label>
      <input id="company" name="company" type="text" ngModel minlength="2">
    </div>

    <div>
      <label for="image">URL Imagen</label>
      <input id="image" name="image" type="text" ngModel minlength="10">
    </div>

    @if (errorEnBack) {
      <p class="error">Error indeterminado, intente nuevamente.</p>
    }

    <div class="button-group">
      @if (!idContacto()) {
        <button [disabled]="newContactForm.invalid" type="submit">+</button>
      } @else {
        <button [disabled]="newContactForm.invalid" type="submit">Editar</button>
      }

      <a class="volver-btn" routerLink="/">
        ← Volver
      </a>
    </div>
  </form>

  @if (errorEnBack) {
    <p class="error">Error indeterminado, intente nuevamente.</p>
  }
</div>
