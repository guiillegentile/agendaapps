<div class="cabecera">
  <span>Nombre</span>
  <span>Tel√©fono</span>
  <span>Email</span>
  <span>Grupos</span>
  <span>Acciones</span>
</div>

<ul>
  @for (contactoIndividual of contactsService.contacts; track $index) {
    <app-contact-list-item
      [contact]="contactoIndividual"
      (click)="verContacto(contactoIndividual)">
    </app-contact-list-item>
  }
</ul>

<a class="nuevo-contacto" routerLink="/contacts/new">+</a>

<!-- PANEL DETALLE -->
<div *ngIf="contactoSeleccionado" class="detalle">
  <div *ngIf="!editando">
    <h2>{{ contactoSeleccionado.firstName }} {{ contactoSeleccionado.lastName }}</h2>
    <p>Email: {{ contactoSeleccionado.email }}</p>
    <p>Tel√©fono: {{ contactoSeleccionado.number }}</p>

    <button (click)="toggleFavorite()">
      {{ contactoSeleccionado.isFavorite ? 'üíñ Quitar favorito' : 'ü§ç Marcar favorito' }}
    </button>

    <div class="botones">
      <button (click)="editando = true">Editar</button>
      <button (click)="eliminarContacto()">Eliminar</button>
      <button (click)="contactoSeleccionado = undefined">Cerrar</button>
    </div>
  </div>

  <form *ngIf="editando" (ngSubmit)="guardarCambios()">
    <label>
      Nombre:
      <input [(ngModel)]="contactoSeleccionado.firstName" name="firstName" required />
    </label>
    <label>
      Apellido:
      <input [(ngModel)]="contactoSeleccionado.lastName" name="lastName" required />
    </label>
    <label>
      Email:
      <input [(ngModel)]="contactoSeleccionado.email" name="email" type="email" />
    </label>
    <label>
      Tel√©fono:
      <input [(ngModel)]="contactoSeleccionado.number" name="number" />
    </label>

    <div class="botones">
      <button type="submit">Guardar</button>
      <button type="button" (click)="cancelarEdicion()">Cancelar</button>
    </div>
  </form>
</div>